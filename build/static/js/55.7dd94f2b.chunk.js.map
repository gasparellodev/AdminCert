{"version":3,"sources":["components/dashboard/calendar/CalendarEventForm.js","components/dashboard/calendar/CalendarToolbar.js","pages/dashboard/Calendar.js","icons/Trash.js","icons/Plus.js"],"names":["getInitialValues","event","range","allDay","color","description","end","Date","addMinutes","start","title","submit","CalendarEventForm","props","onAddComplete","onCancel","onDeleteComplete","onEditComplete","dispatch","useDispatch","handleDelete","a","deleteEvent","id","console","error","initialValues","validationSchema","Yup","shape","max","when","schema","min","required","onSubmit","values","resetForm","setErrors","setStatus","setSubmitting","data","getTime","updateEvent","createEvent","success","toast","message","errors","handleBlur","handleChange","handleSubmit","isSubmitting","setFieldValue","touched","Box","sx","p","Typography","align","gutterBottom","variant","TextField","Boolean","fullWidth","helperText","label","name","onBlur","onChange","value","mt","FormControlLabel","control","Switch","checked","MobileDateTimePicker","date","renderInput","inputProps","FormHelperText","Divider","alignItems","display","IconButton","onClick","Trash","fontSize","flexGrow","Button","disabled","ml","type","viewOptions","icon","ViewConfigIcon","ViewWeekIcon","ViewDayIcon","ViewAgendaIcon","CalendarToolbar","onDateNext","onDatePrev","onDateToday","onViewChange","view","other","Grid","container","justifyContent","spacing","item","ButtonGroup","size","format","map","viewOption","Icon","Tooltip","newView","selectedEventSelector","state","calendar","events","selectedEventId","find","_event","FullCalendarWrapper","experimentalStyled","theme","palette","divider","text","primary","background","default","alpha","main","fontFamily","typography","paddingBottom","paddingTop","secondary","padding","Calendar","calendarRef","useRef","mobileDevice","useMediaQuery","breakpoints","down","useSelector","isModalOpen","selectedRange","selectedEvent","useState","setDate","setView","useEffect","gtm","push","getEvents","calendarEl","current","calendarApi","getApi","changeView","handleEventResize","handleEventDrop","handleModalClose","closeModal","backgroundColor","minHeight","py","Container","maxWidth","Breadcrumbs","separator","ChevronRight","Link","component","RouterLink","to","m","openModal","startIcon","Plus","next","getDate","prev","today","Card","allDayMaintainDuration","dayMaxEventRows","droppable","editable","eventClick","arg","selectEvent","eventDisplay","eventDrop","eventResizableFromStart","eventResize","headerToolbar","height","initialDate","initialView","plugins","dayGridPlugin","interactionPlugin","listPlugin","timeGridPlugin","timelinePlugin","ref","rerenderDelay","select","unselect","selectRange","selectable","weekends","Dialog","onClose","open","createSvgIcon","xmlns","viewBox","fill","fillRule","d","clipRule"],"mappings":"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","file":"static/js/55.7dd94f2b.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nimport toast from 'react-hot-toast';\nimport { addMinutes } from 'date-fns';\nimport * as Yup from 'yup';\nimport { Formik } from 'formik';\nimport MobileDateTimePicker from '@material-ui/lab/MobileDateTimePicker';\nimport {\n  Box,\n  Button,\n  Divider,\n  FormControlLabel,\n  FormHelperText,\n  IconButton,\n  Switch,\n  TextField,\n  Typography\n} from '@material-ui/core';\nimport TrashIcon from '../../../icons/Trash';\nimport { createEvent, deleteEvent, updateEvent } from '../../../slices/calendar';\nimport { useDispatch } from '../../../store';\n\nconst getInitialValues = (event, range) => {\n  if (event) {\n    return {\n      allDay: event.allDay || false,\n      color: event.color || '',\n      description: event.description || '',\n      end: event.end ? new Date(event.end) : addMinutes(new Date(), 30),\n      start: event.start ? new Date(event.start) : new Date(),\n      title: event.title || '',\n      submit: null\n    };\n  }\n\n  if (range) {\n    return {\n      allDay: false,\n      color: '',\n      description: '',\n      end: new Date(range.end),\n      start: new Date(range.start),\n      title: '',\n      submit: null\n    };\n  }\n\n  return {\n    allDay: false,\n    color: '',\n    description: '',\n    end: addMinutes(new Date(), 30),\n    start: new Date(),\n    title: '',\n    submit: null\n  };\n};\n\nconst CalendarEventForm = (props) => {\n  const { event, onAddComplete, onCancel, onDeleteComplete, onEditComplete, range } = props;\n  const dispatch = useDispatch();\n\n  const handleDelete = async () => {\n    try {\n      await dispatch(deleteEvent(event.id));\n\n      onDeleteComplete?.();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <Formik\n      initialValues={getInitialValues(event, range)}\n      validationSchema={Yup\n        .object()\n        .shape({\n          allDay: Yup.bool(),\n          description: Yup.string().max(5000),\n          end: Yup\n            .date()\n            .when('start',\n              (start, schema) => (start && schema.min(start,\n                'End date must be later than start date'))),\n          start: Yup.date(),\n          title: Yup\n            .string()\n            .max(255)\n            .required('Title is required')\n        })}\n      onSubmit={async (values, { resetForm, setErrors, setStatus, setSubmitting }) => {\n        try {\n          const data = {\n            allDay: values.allDay,\n            description: values.description,\n            end: values.end.getTime(),\n            start: values.start.getTime(),\n            title: values.title\n          };\n\n          if (event) {\n            await dispatch(updateEvent(event.id, data));\n          } else {\n            await dispatch(createEvent(data));\n          }\n\n          resetForm();\n          setStatus({ success: true });\n          setSubmitting(false);\n          toast.success('Calendar updated!');\n\n          if (!event && onAddComplete) {\n            onAddComplete();\n          }\n\n          if (event && onEditComplete) {\n            onEditComplete();\n          }\n        } catch (err) {\n          console.error(err);\n          toast.error('Something went wrong!');\n          setStatus({ success: false });\n          setErrors({ submit: err.message });\n          setSubmitting(false);\n        }\n      }}\n    >\n      {({\n        errors,\n        handleBlur,\n        handleChange,\n        handleSubmit,\n        isSubmitting,\n        setFieldValue,\n        touched,\n        values\n      }) => (\n        <form onSubmit={handleSubmit}>\n          <Box sx={{ p: 3 }}>\n            <Typography\n              align=\"center\"\n              color=\"textPrimary\"\n              gutterBottom\n              variant=\"h5\"\n            >\n              {event\n                ? 'Add Event'\n                : 'Edit Event'}\n            </Typography>\n          </Box>\n          <Box sx={{ p: 3 }}>\n            <TextField\n              error={Boolean(touched.title && errors.title)}\n              fullWidth\n              helperText={touched.title && errors.title}\n              label=\"Título\"\n              name=\"title\"\n              onBlur={handleBlur}\n              onChange={handleChange}\n              value={values.title}\n              variant=\"outlined\"\n            />\n            <Box sx={{ mt: 2 }}>\n              <TextField\n                error={Boolean(touched.description && errors.description)}\n                fullWidth\n                helperText={touched.description && errors.description}\n                label=\"Descrição\"\n                name=\"description\"\n                onBlur={handleBlur}\n                onChange={handleChange}\n                value={values.description}\n                variant=\"outlined\"\n              />\n            </Box>\n            <Box sx={{ mt: 2 }}>\n              <FormControlLabel\n                control={(\n                  <Switch\n                    checked={values.allDay}\n                    color=\"primary\"\n                    name=\"allDay\"\n                    onChange={handleChange}\n                  />\n                )}\n                label=\"Evento irá durar o dia todo?\"\n              />\n            </Box>\n            <Box sx={{ mt: 2 }}>\n              <MobileDateTimePicker\n                label=\"Início\"\n                onChange={(date) => setFieldValue('start', date)}\n                renderInput={(inputProps) => (\n                  <TextField\n                    fullWidth\n                    variant=\"outlined\"\n                    {...inputProps}\n                  />\n                )}\n                value={values.start}\n              />\n            </Box>\n            <Box sx={{ mt: 2 }}>\n              <MobileDateTimePicker\n                label=\"Data final\"\n                onChange={(date) => setFieldValue('end', date)}\n                renderInput={(inputProps) => (\n                  <TextField\n                    fullWidth\n                    variant=\"outlined\"\n                    {...inputProps}\n                  />\n                )}\n                value={values.end}\n              />\n            </Box>\n            {Boolean(touched.end && errors.end) && (\n              <Box sx={{ mt: 2 }}>\n                <FormHelperText error>\n                  {errors.end}\n                </FormHelperText>\n              </Box>\n            )}\n          </Box>\n          <Divider />\n          <Box\n            sx={{\n              alignItems: 'center',\n              display: 'flex',\n              p: 2\n            }}\n          >\n            {event && (\n              <IconButton onClick={() => handleDelete()}>\n                <TrashIcon fontSize=\"small\" />\n              </IconButton>\n            )}\n            <Box sx={{ flexGrow: 1 }} />\n            <Button\n              color=\"primary\"\n              onClick={onCancel}\n              variant=\"text\"\n            >\n              Cancelar\n            </Button>\n            <Button\n              color=\"primary\"\n              disabled={isSubmitting}\n              sx={{ ml: 1 }}\n              type=\"submit\"\n              variant=\"contained\"\n            >\n              Confirmar\n            </Button>\n          </Box>\n        </form>\n      )}\n    </Formik>\n  );\n};\n\nCalendarEventForm.propTypes = {\n  event: PropTypes.object,\n  onAddComplete: PropTypes.func,\n  onCancel: PropTypes.func,\n  onDeleteComplete: PropTypes.func,\n  onEditComplete: PropTypes.func,\n  range: PropTypes.object\n};\n\nexport default CalendarEventForm;\n","import PropTypes from 'prop-types';\nimport { format } from 'date-fns';\nimport { Box, Button, ButtonGroup, Grid, IconButton, Tooltip, Typography } from '@material-ui/core';\nimport ViewConfigIcon from '@material-ui/icons/ViewComfy';\nimport ViewWeekIcon from '@material-ui/icons/ViewWeek';\nimport ViewDayIcon from '@material-ui/icons/ViewDay';\nimport ViewAgendaIcon from '@material-ui/icons/ViewAgenda';\n\nconst viewOptions = [\n  {\n    icon: ViewConfigIcon,\n    label: 'Month',\n    value: 'dayGridMonth'\n  },\n  {\n    icon: ViewWeekIcon,\n    label: 'Week',\n    value: 'timeGridWeek'\n  },\n  {\n    icon: ViewDayIcon,\n    label: 'Day',\n    value: 'timeGridDay'\n  },\n  {\n    icon: ViewAgendaIcon,\n    label: 'Agenda',\n    value: 'listWeek'\n  }\n];\n\nconst CalendarToolbar = (props) => {\n  const { date, onDateNext, onDatePrev, onDateToday, onViewChange, view, ...other } = props;\n\n  const handleViewChange = (newView) => {\n    if (onViewChange) {\n      onViewChange(newView);\n    }\n  };\n\n  return (\n    <Grid\n      alignItems=\"center\"\n      container\n      justifyContent=\"space-between\"\n      spacing={3}\n      {...other}\n    >\n      <Grid item>\n        <ButtonGroup size=\"small\">\n          <Button onClick={onDatePrev}>\n            Prev\n          </Button>\n          <Button onClick={onDateToday}>\n            Today\n          </Button>\n          <Button onClick={onDateNext}>\n            Next\n          </Button>\n        </ButtonGroup>\n      </Grid>\n      <Grid item>\n        <Typography\n          color=\"textPrimary\"\n          variant=\"h3\"\n        >\n          {format(date, 'MMMM y')}\n        </Typography>\n      </Grid>\n      <Grid item>\n        <Box sx={{ color: 'text.primary' }}>\n          {viewOptions.map((viewOption) => {\n            const Icon = viewOption.icon;\n\n            return (\n              <Tooltip\n                key={viewOption.value}\n                title={viewOption.label}\n              >\n                <IconButton\n                  color={viewOption.value === view\n                    ? 'primary'\n                    : 'inherit'}\n                  onClick={() => handleViewChange(viewOption.value)}\n                >\n                  <Icon fontSize=\"small\" />\n                </IconButton>\n              </Tooltip>\n            );\n          })}\n        </Box>\n      </Grid>\n    </Grid>\n  );\n};\n\nCalendarToolbar.propTypes = {\n  children: PropTypes.node,\n  date: PropTypes.instanceOf(Date).isRequired,\n  onAddClick: PropTypes.func,\n  onDateNext: PropTypes.func,\n  onDatePrev: PropTypes.func,\n  onDateToday: PropTypes.func,\n  onViewChange: PropTypes.func,\n  view: PropTypes.oneOf([\n    'dayGridMonth',\n    'timeGridWeek',\n    'timeGridDay',\n    'listWeek'\n  ])\n};\n\nexport default CalendarToolbar;\n","import { useState, useRef, useEffect } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport listPlugin from '@fullcalendar/list';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport timelinePlugin from '@fullcalendar/timeline';\nimport {\n  Box,\n  Breadcrumbs,\n  Button,\n  Card,\n  Container,\n  Dialog,\n  Grid,\n  Link,\n  Typography\n} from '@material-ui/core';\nimport { alpha, experimentalStyled } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { CalendarEventForm, CalendarToolbar } from '../../components/dashboard/calendar';\nimport ChevronRightIcon from '../../icons/ChevronRight';\nimport PlusIcon from '../../icons/Plus';\nimport gtm from '../../lib/gtm';\nimport {\n  closeModal,\n  getEvents,\n  openModal,\n  selectEvent,\n  selectRange,\n  updateEvent\n} from '../../slices/calendar';\nimport { useDispatch, useSelector } from '../../store';\n\nconst selectedEventSelector = (state) => {\n  const { events, selectedEventId } = state.calendar;\n\n  if (selectedEventId) {\n    return events.find((_event) => _event.id === selectedEventId);\n  }\n\n  return null;\n};\n\nconst FullCalendarWrapper = experimentalStyled('div')(({ theme }) => ({\n  '& .fc-license-message': {\n    display: 'none'\n  },\n  '& .fc': {\n    '--fc-bg-event-opacity': 1,\n    '--fc-border-color': theme.palette.divider,\n    '--fc-daygrid-event-dot-width': '10px',\n    '--fc-event-text-color': theme.palette.text.primary,\n    '--fc-list-event-hover-bg-color': theme.palette.background.default,\n    '--fc-neutral-bg-color': theme.palette.background.default,\n    '--fc-page-bg-color': theme.palette.background.default,\n    '--fc-today-bg-color': alpha(theme.palette.primary.main, 0.25),\n    color: theme.palette.text.primary,\n    fontFamily: theme.typography.fontFamily\n  },\n  '& .fc .fc-col-header-cell-cushion': {\n    paddingBottom: '10px',\n    paddingTop: '10px'\n  },\n  '& .fc .fc-day-other .fc-daygrid-day-top': {\n    color: theme.palette.text.secondary\n  },\n  '& .fc-daygrid-event': {\n    padding: '10px'\n  }\n}));\n\nconst Calendar = () => {\n  const dispatch = useDispatch();\n  const calendarRef = useRef(null);\n  const mobileDevice = useMediaQuery((theme) => theme.breakpoints.down('sm'));\n  const { events, isModalOpen, selectedRange } = useSelector((state) => state.calendar);\n  const selectedEvent = useSelector(selectedEventSelector);\n  const [date, setDate] = useState(new Date());\n  const [view, setView] = useState(mobileDevice\n    ? 'listWeek'\n    : 'dayGridMonth');\n\n  useEffect(() => {\n    gtm.push({ event: 'page_view' });\n  }, []);\n\n  useEffect(() => {\n    dispatch(getEvents());\n  }, []);\n\n  useEffect(() => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n      const newView = mobileDevice ? 'listWeek' : 'dayGridMonth';\n\n      calendarApi.changeView(newView);\n      setView(newView);\n    }\n  }, [mobileDevice]);\n\n  const handleDateToday = () => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.today();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const handleViewChange = (newView) => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.changeView(newView);\n      setView(newView);\n    }\n  };\n\n  const handleDatePrev = () => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.prev();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const handleDateNext = () => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.next();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const handleAddClick = () => {\n    dispatch(openModal());\n  };\n\n  const handleRangeSelect = (arg) => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.unselect();\n    }\n\n    dispatch(selectRange(arg.start.getTime(), arg.end.getTime()));\n  };\n\n  const handleEventSelect = (arg) => {\n    dispatch(selectEvent(arg.event.id));\n  };\n\n  const handleEventResize = async ({ event }) => {\n    try {\n      await dispatch(updateEvent(event.id, {\n        allDay: event.allDay,\n        start: event.start,\n        end: event.end\n      }));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleEventDrop = async ({ event }) => {\n    try {\n      await dispatch(updateEvent(event.id, {\n        allDay: event.allDay,\n        start: event.start,\n        end: event.end\n      }));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleModalClose = () => {\n    dispatch(closeModal());\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>AdminCert | Calendário & Eventos </title>\n      </Helmet>\n      <Box\n        sx={{\n          backgroundColor: 'background.default',\n          minHeight: '100%',\n          py: 8\n        }}\n      >\n        <Container maxWidth={false}>\n          <Grid\n            container\n            justifyContent=\"space-between\"\n            spacing={3}\n          >\n            <Grid item>\n              <Typography\n                color=\"textPrimary\"\n                variant=\"h5\"\n              >\n                Seu Planejamento com fácil acesso\n              </Typography>\n              <Breadcrumbs\n                aria-label=\"breadcrumb\"\n                separator={<ChevronRightIcon fontSize=\"small\" />}\n                sx={{ mt: 1 }}\n              >\n                <Link\n                  color=\"textPrimary\"\n                  component={RouterLink}\n                  to=\"/dashboard\"\n                  variant=\"subtitle2\"\n                >\n                  Dashboard\n                </Link>\n                <Typography\n                  color=\"textSecondary\"\n                  variant=\"subtitle2\"\n                >\n                  Calendário\n                </Typography>\n              </Breadcrumbs>\n            </Grid>\n            <Grid item>\n              <Box sx={{ m: -1 }}>\n                <Button\n                  color=\"primary\"\n                  onClick={handleAddClick}\n                  startIcon={<PlusIcon fontSize=\"small\" />}\n                  sx={{ m: 1 }}\n                  variant=\"contained\"\n                >\n                  Novo Evento\n                </Button>\n              </Box>\n            </Grid>\n          </Grid>\n          <Box sx={{ mt: 3 }}>\n            <CalendarToolbar\n              date={date}\n              onDateNext={handleDateNext}\n              onDatePrev={handleDatePrev}\n              onDateToday={handleDateToday}\n              onViewChange={handleViewChange}\n              view={view}\n            />\n          </Box>\n          <Card\n            sx={{\n              mt: 3,\n              p: 2\n            }}\n          >\n            <FullCalendarWrapper>\n              <FullCalendar\n                allDayMaintainDuration\n                dayMaxEventRows={3}\n                droppable\n                editable\n                eventClick={handleEventSelect}\n                eventDisplay=\"block\"\n                eventDrop={handleEventDrop}\n                eventResizableFromStart\n                eventResize={handleEventResize}\n                events={events}\n                headerToolbar={false}\n                height={800}\n                initialDate={date}\n                initialView={view}\n                plugins={[\n                  dayGridPlugin,\n                  interactionPlugin,\n                  listPlugin,\n                  timeGridPlugin,\n                  timelinePlugin\n                ]}\n                ref={calendarRef}\n                rerenderDelay={10}\n                select={handleRangeSelect}\n                selectable\n                weekends\n              />\n            </FullCalendarWrapper>\n          </Card>\n          <Dialog\n            fullWidth\n            maxWidth=\"sm\"\n            onClose={handleModalClose}\n            open={isModalOpen}\n          >\n            {/* Dialog renders its body even if not open */}\n            {isModalOpen && (\n              <CalendarEventForm\n                event={selectedEvent}\n                onAddComplete={handleModalClose}\n                onCancel={handleModalClose}\n                onDeleteComplete={handleModalClose}\n                onEditComplete={handleModalClose}\n                range={selectedRange}\n              />\n            )}\n          </Dialog>\n        </Container>\n      </Box>\n    </>\n  );\n};\n\nexport default Calendar;\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst Trash = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>, 'Trash'\n);\n\nexport default Trash;\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst Plus = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>, 'Plus'\n);\n\nexport default Plus;\n"],"sourceRoot":""}